# mosk-wikijs-backup


Восстановление (тестировалось ТОЛЬКО под mac os но проблем с Linux не ожидается, а с Windows  боритесь сами).


!!!ВНИМАНИЕ!!!!

ВСЕ ПАРОЛИ УКАЗАННЫЕ КАК В ЭТОМ ДОКУМЕНТЕ ТАК И В САМОЙ WIKI НЕ ЯВЛЯЮТСЯ СЕКРЕТНЫМИ И
ЗАВЕДОМО ВЫБРАНЫ МАКСИМАЛЬНО ПРОСТЫМИ, НЕ ГОДЯТСЯ ДЛЯ PRODUCTION ENVIRONMENT!

Для того что бы у себя использовать документацию, нужно

0. Склонировать репозиторий и перейти в катклог mosk-wikijs-backup

1. Запустить скрипт `restore.sh` в каталоге mosk-wikijs-backup
   (Обязательно посмотрите код скрипта перед запуском, как минимум проверить что нет конфликтующих
   имен, портов и т.п.)

2. В браузере: http://127.0.0.1:80/

  login: `superadmin@no-such-domain.tld`
  password: `superadmin`


5. После восстановления:
 * Рекомендуется перегенрировать индексы ElasticSearch
   Скрипт восстановления настраивает подключение к Elasticsearch, но после этого требуется ручное применение настроек ( Поисковая система -> Elasticsearch),
   нажать кнопку "Применить" (это создаст индекс) и после этого "Перестроить индекс". Конечно, можно применить другой экземпляр Elasticsearch или другую
   поисковую систему.
 * Перенастроить репликацию данных в Git  на свой репозиторий. (репозиторий git@git.home:backups/wikijs.git не доступен за пределами локальной сети)
 * По желанию - использовать systemd.unit  вместо ручного запуска.
